CREATE DATABASE db;
USE db;

-- TABLE ONE
CREATE TABLE Students(
  ID INT PRIMARY KEY,
  Name VARCHAR(50) NOT NULL,
  Age INT CHECK (Age >= 5),
  Email VARCHAR(100) UNIQUE
);

-- SECOND TABLE 
INSERT INTO Students (ID, Name, Age, Email)
VALUES
(1, 'Aarav', 18, 'aarav@gmail.com'),
(2, 'Diya', 19, 'diya@gmail.com'),
(3, 'Rohan', 17, 'rohan@gmail.com');

CREATE TABLE Subject (
  ID int ;
  name varchar(50)
);

INSERT INTO Subject VALUES
(1, 'Math'),
(2, 'Science'),
(3, 'English');


-- ADD DML STATEMENT FROM 2B (INSERT UPDATE DELETE SELECT)

INSERT INTO Students (ID, Name, Age, Email)
VALUES (4, 'Sara', 20, 'sara@gmail.com');

UPDATE Students
SET Age = 21
WHERE Name = 'Diya';

DELETE FROM Students
WHERE ID = 4;

SELECT * FROM Students;


-- VIEW , SUB-JOIN , JOIN (INNER JOIN , LEFT JOIN , RIGHT JOIN , CROSS JOIN)

CREATE VIEW StudentView AS
SELECT ID, Name, Age, Email FROM Students;

SELECT * FROM Students
WHERE Age > (SELECT AVG(Age) FROM Students);

SELECT Students.Name AS StudentName, Subject.Name AS SubjectName
FROM Students
JOIN Subject ON Students.ID = Subject.ID;
